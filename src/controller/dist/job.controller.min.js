"use strict";var _require=require("../model/job.model"),find=_require.find,Job=require("../model/job.model");exports.jobCreate=function(r,t){var n,a,s,o,u,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.body,a=n.companyName,s=n.Position,o=n.Contract,u=n.Location,e.prev=1,c=new Job({companyName:a,Position:s,Contract:o,Location:u}),e.next=5,regeneratorRuntime.awrap(c.save());case 5:return e.abrupt("return",t.status(201).send({message:!0,newJob:c}));case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:case"end":return e.stop()}},null,null,[[1,8]])},exports.getAllJob=function(r,t){var n,a,s,o,u,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.query,a=n.limit,s=void 0===a?10:a,o=n.page,u=void 0===o?1:o,e.next=3,regeneratorRuntime.awrap(Job.find().limit(s).skip((u-1)*s));case 3:return c=e.sent,e.prev=4,e.abrupt("return",t.status(201).send(c));case 8:e.prev=8,e.t0=e.catch(4),console.log(e.t0.message);case 11:case"end":return e.stop()}},null,null,[[4,8]])},exports.searchFilter=function(r,t){var n,a,s,o,u,c,i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.query,a=n.companyName,s=n.Location,o=n.Contract,""!=a)return e.next=4,regeneratorRuntime.awrap(Job.find({companyName:a}));e.next=6;break;case 4:return u=e.sent,e.abrupt("return",t.status(200).send(u));case 6:if(""!=s)return e.next=9,regeneratorRuntime.awrap(Job.find({Location:s}));e.next=11;break;case 9:return c=e.sent,e.abrupt("return",t.status(200).send(c));case 11:if(""!=o)return e.next=14,regeneratorRuntime.awrap(Job.find({Location:s}));e.next=16;break;case 14:return i=e.sent,e.abrupt("return",t.status(200).send(i));case 16:case"end":return e.stop()}})},exports.DeleteJob=function(r,t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Job.findByIdAndDelete(r.params.id));case 2:return e.sent,e.prev=3,e.abrupt("return",t.status(200).send({message:!0}));case 7:e.prev=7,e.t0=e.catch(3),console.log(e.t0.message);case 10:case"end":return e.stop()}},null,null,[[3,7]])};
//# sourceMappingURL=job.controller.min.js.map
